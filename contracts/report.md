# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [High Issues](#high-issues)
  - [H-1: Arbitrary `from` passed to `transferFrom` (or `safeTransferFrom`)](#h-1-arbitrary-from-passed-to-transferfrom-or-safetransferfrom)
  - [H-2: Functions send eth away from contract but performs no checks on any address.](#h-2-functions-send-eth-away-from-contract-but-performs-no-checks-on-any-address)
  - [H-3: Return value of the function call is not checked.](#h-3-return-value-of-the-function-call-is-not-checked)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk for trusted owners](#l-1-centralization-risk-for-trusted-owners)
  - [L-2: Unsafe ERC20 Operations should not be used](#l-2-unsafe-erc20-operations-should-not-be-used)
  - [L-3: Solidity pragma should be specific, not wide](#l-3-solidity-pragma-should-be-specific-not-wide)
  - [L-4: Missing checks for `address(0)` when assigning values to address state variables](#l-4-missing-checks-for-address0-when-assigning-values-to-address-state-variables)
  - [L-5: `public` functions not used internally could be marked `external`](#l-5-public-functions-not-used-internally-could-be-marked-external)
  - [L-6: Define and use `constant` variables instead of using literals](#l-6-define-and-use-constant-variables-instead-of-using-literals)
  - [L-7: Event is missing `indexed` fields](#l-7-event-is-missing-indexed-fields)
  - [L-8: PUSH0 is not supported by all chains](#l-8-push0-is-not-supported-by-all-chains)
  - [L-9: Modifiers invoked only once can be shoe-horned into the function](#l-9-modifiers-invoked-only-once-can-be-shoe-horned-into-the-function)
  - [L-10: Large literal values multiples of 10000 can be replaced with scientific notation](#l-10-large-literal-values-multiples-of-10000-can-be-replaced-with-scientific-notation)
  - [L-11: Internal functions called only once can be inlined](#l-11-internal-functions-called-only-once-can-be-inlined)
  - [L-12: Inconsistency in declaring uint256/uint (or) int256/int variables within a contract. Use explicit size declarations (uint256 or int256).](#l-12-inconsistency-in-declaring-uint256uint-or-int256int-variables-within-a-contract-use-explicit-size-declarations-uint256-or-int256)
  - [L-13: Unused Custom Error](#l-13-unused-custom-error)
  - [L-14: Costly operations inside loops.](#l-14-costly-operations-inside-loops)
  - [L-15: Unused Imports](#l-15-unused-imports)
  - [L-16: State variable changes but no event is emitted.](#l-16-state-variable-changes-but-no-event-is-emitted)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 11 |
| Total nSLOC | 1749 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/DSC.sol | 32 |
| src/Depositor.sol | 309 |
| src/MainRouter.sol | 793 |
| src/Minter.sol | 289 |
| src/Namespace.sol | 61 |
| src/interface/IDepositor.sol | 9 |
| src/interface/IMainRouter.sol | 39 |
| src/interface/IMinter.sol | 4 |
| src/library/CCIPBase.sol | 103 |
| src/library/FunctionsBase.sol | 63 |
| src/library/OracleLib.sol | 47 |
| **Total** | **1749** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 3 |
| Low | 16 |


# High Issues

## H-1: Arbitrary `from` passed to `transferFrom` (or `safeTransferFrom`)

Passing an arbitrary `from` address to `transferFrom` (or `safeTransferFrom`) can lead to loss of funds, because anyone can transfer tokens from the `from` address if an approval is made.  

<details><summary>1 Found Instances</summary>


- Found in src/Depositor.sol [Line: 182](src/Depositor.sol#L182)

	```solidity
	        IERC20(_token).safeTransferFrom(_sender, address(this), _amount);
	```

</details>



## H-2: Functions send eth away from contract but performs no checks on any address.

Consider introducing checks for `msg.sender` to ensure the recipient of the money is as intended.

<details><summary>4 Found Instances</summary>


- Found in src/Depositor.sol [Line: 263](src/Depositor.sol#L263)

	```solidity
	    function withdrawFeePay(uint256 _amount) external {
	```

- Found in src/MainRouter.sol [Line: 190](src/MainRouter.sol#L190)

	```solidity
	    function withdrawFeePay(uint256 _amount) external {
	```

- Found in src/Minter.sol [Line: 88](src/Minter.sol#L88)

	```solidity
	    function withdrawFeePay(uint256 _amount) external {
	```

- Found in src/Namespace.sol [Line: 60](src/Namespace.sol#L60)

	```solidity
	    function withdrawFees() public onlyOwner {
	```

</details>



## H-3: Return value of the function call is not checked.

Function returns a value but it is ignored.

<details><summary>8 Found Instances</summary>


- Found in src/Depositor.sol [Line: 130](src/Depositor.sol#L130)

	```solidity
	        _ccipSend(msg.sender, _token, _amount, _data, ccipDepositGasLimit);
	```

- Found in src/Depositor.sol [Line: 168](src/Depositor.sol#L168)

	```solidity
	        _ccipSend(
	```

- Found in src/MainRouter.sol [Line: 358](src/MainRouter.sol#L358)

	```solidity
	        _ccipSend(
	```

- Found in src/MainRouter.sol [Line: 393](src/MainRouter.sol#L393)

	```solidity
	        _ccipSend(
	```

- Found in src/Minter.sol [Line: 113](src/Minter.sol#L113)

	```solidity
	        _ccipSend(msg.sender, _amount, _data, ccipBurnGasLimit);
	```

- Found in src/Minter.sol [Line: 150](src/Minter.sol#L150)

	```solidity
	        _ccipSend(msg.sender, _amount, _data, ccipBurnAndMintGasLimit);
	```

- Found in src/Minter.sol [Line: 200](src/Minter.sol#L200)

	```solidity
	        _ccipSend(msg.sender, _amountToCover, _data, _gasLimit);
	```

- Found in src/Minter.sol [Line: 205](src/Minter.sol#L205)

	```solidity
	        dsc.mint(_receiver, _amount);
	```

</details>



# Low Issues

## L-1: Centralization Risk for trusted owners

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>31 Found Instances</summary>


- Found in src/DSC.sol [Line: 7](src/DSC.sol#L7)

	```solidity
	contract DSC is ERC20Burnable, Ownable {
	```

- Found in src/DSC.sol [Line: 14](src/DSC.sol#L14)

	```solidity
	    function burn(uint256 _amount) public override onlyOwner {
	```

- Found in src/DSC.sol [Line: 28](src/DSC.sol#L28)

	```solidity
	    ) external onlyOwner returns (bool) {
	```

- Found in src/Depositor.sol [Line: 81](src/Depositor.sol#L81)

	```solidity
	    function setMainRouter(address _newMainRouter) external onlyOwner {
	```

- Found in src/Depositor.sol [Line: 87](src/Depositor.sol#L87)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/Depositor.sol [Line: 94](src/Depositor.sol#L94)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/Depositor.sol [Line: 98](src/Depositor.sol#L98)

	```solidity
	    function setCCIPDepositGasLimit(uint256 _newGasLimit) external onlyOwner {
	```

- Found in src/Depositor.sol [Line: 104](src/Depositor.sol#L104)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/MainRouter.sol [Line: 145](src/MainRouter.sol#L145)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/MainRouter.sol [Line: 149](src/MainRouter.sol#L149)

	```solidity
	    function setOptimismMinter(address _minterContract) external onlyOwner {
	```

- Found in src/MainRouter.sol [Line: 158](src/MainRouter.sol#L158)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/MainRouter.sol [Line: 171](src/MainRouter.sol#L171)

	```solidity
	    ) external onlyOwner onlyAllowedToken(_chainSelector, _token) {
	```

- Found in src/MainRouter.sol [Line: 182](src/MainRouter.sol#L182)

	```solidity
	    ) external onlyOwner onlyAllowedToken(_chainSelector, _token) {
	```

- Found in src/MainRouter.sol [Line: 186](src/MainRouter.sol#L186)

	```solidity
	    function setCCIPGasLimit(uint256 _newGasLimit) external onlyOwner {
	```

- Found in src/Minter.sol [Line: 68](src/Minter.sol#L68)

	```solidity
	    function setMainRouter(address _newMainRouter) external onlyOwner {
	```

- Found in src/Minter.sol [Line: 74](src/Minter.sol#L74)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/Minter.sol [Line: 78](src/Minter.sol#L78)

	```solidity
	    function setCCIPBurnGasLimit(uint256 _newGasLimit) external onlyOwner {
	```

- Found in src/Minter.sol [Line: 84](src/Minter.sol#L84)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/Namespace.sol [Line: 7](src/Namespace.sol#L7)

	```solidity
	contract CustomNamespace is Ownable {
	```

- Found in src/Namespace.sol [Line: 56](src/Namespace.sol#L56)

	```solidity
	    function setRegistrationFee(uint256 _newFee) public onlyOwner {
	```

- Found in src/Namespace.sol [Line: 60](src/Namespace.sol#L60)

	```solidity
	    function withdrawFees() public onlyOwner {
	```

- Found in src/library/CCIPBase.sol [Line: 12](src/library/CCIPBase.sol#L12)

	```solidity
	abstract contract CCIPBase is CCIPReceiver, Ownable {
	```

- Found in src/library/CCIPBase.sol [Line: 56](src/library/CCIPBase.sol#L56)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/library/CCIPBase.sol [Line: 68](src/library/CCIPBase.sol#L68)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/library/CCIPBase.sol [Line: 75](src/library/CCIPBase.sol#L75)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/library/FunctionsBase.sol [Line: 9](src/library/FunctionsBase.sol#L9)

	```solidity
	abstract contract FunctionsBase is FunctionsClient, Ownable {
	```

- Found in src/library/FunctionsBase.sol [Line: 39](src/library/FunctionsBase.sol#L39)

	```solidity
	    function setFunctionsRouter(address _functionsRouter) external onlyOwner {
	```

- Found in src/library/FunctionsBase.sol [Line: 43](src/library/FunctionsBase.sol#L43)

	```solidity
	    function setDonId(bytes32 _donId) external onlyOwner {
	```

- Found in src/library/FunctionsBase.sol [Line: 47](src/library/FunctionsBase.sol#L47)

	```solidity
	    function setSubscriptionID(uint64 _subscriptionId) external onlyOwner {
	```

- Found in src/library/FunctionsBase.sol [Line: 51](src/library/FunctionsBase.sol#L51)

	```solidity
	    function setGasLimit(uint32 _gasLimit) external onlyOwner {
	```

- Found in src/library/FunctionsBase.sol [Line: 55](src/library/FunctionsBase.sol#L55)

	```solidity
	    function setSource(string memory _source) external onlyOwner {
	```

</details>



## L-2: Unsafe ERC20 Operations should not be used

ERC20 functions may not behave as expected. For example: return values are not always meaningful. It is recommended to use OpenZeppelin's SafeERC20 library.

<details><summary>4 Found Instances</summary>


- Found in src/Depositor.sol [Line: 266](src/Depositor.sol#L266)

	```solidity
	        payable(msg.sender).transfer(_amount);
	```

- Found in src/MainRouter.sol [Line: 193](src/MainRouter.sol#L193)

	```solidity
	        payable(msg.sender).transfer(_amount);
	```

- Found in src/Minter.sol [Line: 91](src/Minter.sol#L91)

	```solidity
	        payable(msg.sender).transfer(_amount);
	```

- Found in src/Namespace.sol [Line: 61](src/Namespace.sol#L61)

	```solidity
	        payable(owner()).transfer(address(this).balance);
	```

</details>



## L-3: Solidity pragma should be specific, not wide

Consider using a specific version of Solidity in your contracts instead of a wide version. For example, instead of `pragma solidity ^0.8.0;`, use `pragma solidity 0.8.0;`

<details><summary>10 Found Instances</summary>


- Found in src/DSC.sol [Line: 2](src/DSC.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/Depositor.sol [Line: 2](src/Depositor.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/MainRouter.sol [Line: 2](src/MainRouter.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/Minter.sol [Line: 2](src/Minter.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/Namespace.sol [Line: 2](src/Namespace.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/interface/IDepositor.sol [Line: 2](src/interface/IDepositor.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/interface/IMainRouter.sol [Line: 2](src/interface/IMainRouter.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/interface/IMinter.sol [Line: 2](src/interface/IMinter.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/library/CCIPBase.sol [Line: 2](src/library/CCIPBase.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/library/FunctionsBase.sol [Line: 3](src/library/FunctionsBase.sol#L3)

	```solidity
	pragma solidity ^0.8.0;
	```

</details>



## L-4: Missing checks for `address(0)` when assigning values to address state variables

Check for `address(0)` when assigning values to address state variables.

<details><summary>8 Found Instances</summary>


- Found in src/Depositor.sol [Line: 59](src/Depositor.sol#L59)

	```solidity
	        mainRouter = _mainRouter;
	```

- Found in src/Depositor.sol [Line: 82](src/Depositor.sol#L82)

	```solidity
	        mainRouter = _newMainRouter;
	```

- Found in src/MainRouter.sol [Line: 146](src/MainRouter.sol#L146)

	```solidity
	        optimismDepositor = _depositorContract;
	```

- Found in src/MainRouter.sol [Line: 150](src/MainRouter.sol#L150)

	```solidity
	        optimismMinter = _minterContract;
	```

- Found in src/Minter.sol [Line: 52](src/Minter.sol#L52)

	```solidity
	        mainRouter = _mainRouter;
	```

- Found in src/Minter.sol [Line: 69](src/Minter.sol#L69)

	```solidity
	        mainRouter = _newMainRouter;
	```

- Found in src/library/FunctionsBase.sol [Line: 35](src/library/FunctionsBase.sol#L35)

	```solidity
	        functionsRouter = _functionRouter;
	```

- Found in src/library/FunctionsBase.sol [Line: 40](src/library/FunctionsBase.sol#L40)

	```solidity
	        functionsRouter = _functionsRouter;
	```

</details>



## L-5: `public` functions not used internally could be marked `external`

Instead of marking a function as `public`, consider marking it as `external` if it is not used internally.

<details><summary>43 Found Instances</summary>


- Found in src/DSC.sol [Line: 14](src/DSC.sol#L14)

	```solidity
	    function burn(uint256 _amount) public override onlyOwner {
	```

- Found in src/Depositor.sol [Line: 269](src/Depositor.sol#L269)

	```solidity
	    function getDepositFee(
	```

- Found in src/Depositor.sol [Line: 291](src/Depositor.sol#L291)

	```solidity
	    function getDepositAndMintFee(
	```

- Found in src/Depositor.sol [Line: 323](src/Depositor.sol#L323)

	```solidity
	    function getDeposited(
	```

- Found in src/Depositor.sol [Line: 330](src/Depositor.sol#L330)

	```solidity
	    function getFeePay(address _user) public view returns (uint256) {
	```

- Found in src/Depositor.sol [Line: 334](src/Depositor.sol#L334)

	```solidity
	    function getIsAllowedToken(address _token) public view returns (bool) {
	```

- Found in src/Depositor.sol [Line: 338](src/Depositor.sol#L338)

	```solidity
	    function getMainRouter() public view returns (address) {
	```

- Found in src/Depositor.sol [Line: 342](src/Depositor.sol#L342)

	```solidity
	    function getMainRouterChainSelector() public view returns (uint64) {
	```

- Found in src/Depositor.sol [Line: 346](src/Depositor.sol#L346)

	```solidity
	    function getCCIPDepositGasLimit() public view returns (uint256) {
	```

- Found in src/Depositor.sol [Line: 350](src/Depositor.sol#L350)

	```solidity
	    function getCCIPDepositAndMintGasLimit() public view returns (uint256) {
	```

- Found in src/MainRouter.sol [Line: 413](src/MainRouter.sol#L413)

	```solidity
	    function getRedeemFee(
	```

- Found in src/MainRouter.sol [Line: 439](src/MainRouter.sol#L439)

	```solidity
	    function getMintFee(
	```

- Found in src/MainRouter.sol [Line: 464](src/MainRouter.sol#L464)

	```solidity
	    function getMaximumAllowedMinting(
	```

- Found in src/MainRouter.sol [Line: 561](src/MainRouter.sol#L561)

	```solidity
	    function getUserOnChainInformation(
	```

- Found in src/MainRouter.sol [Line: 653](src/MainRouter.sol#L653)

	```solidity
	    function getDeposited(
	```

- Found in src/MainRouter.sol [Line: 661](src/MainRouter.sol#L661)

	```solidity
	    function getUserActivityCredit(address _user) public view returns (uint16) {
	```

- Found in src/MainRouter.sol [Line: 665](src/MainRouter.sol#L665)

	```solidity
	    function getUserProtocolCredit(
	```

- Found in src/MainRouter.sol [Line: 671](src/MainRouter.sol#L671)

	```solidity
	    function getIsAllowedTokens(
	```

- Found in src/MainRouter.sol [Line: 678](src/MainRouter.sol#L678)

	```solidity
	    function getPriceFeeds(
	```

- Found in src/MainRouter.sol [Line: 685](src/MainRouter.sol#L685)

	```solidity
	    function getMinted(
	```

- Found in src/MainRouter.sol [Line: 692](src/MainRouter.sol#L692)

	```solidity
	    function getFeePay(address _user) public view returns (uint256) {
	```

- Found in src/MainRouter.sol [Line: 720](src/MainRouter.sol#L720)

	```solidity
	    function getOptimismDepositor() public view returns (address) {
	```

- Found in src/MainRouter.sol [Line: 724](src/MainRouter.sol#L724)

	```solidity
	    function getOptimismMinter() public view returns (address) {
	```

- Found in src/MainRouter.sol [Line: 728](src/MainRouter.sol#L728)

	```solidity
	    function getCCIPGasLimit() public view returns (uint256) {
	```

- Found in src/MainRouter.sol [Line: 732](src/MainRouter.sol#L732)

	```solidity
	    function getAllowedTokensOnChain(
	```

- Found in src/MainRouter.sol [Line: 869](src/MainRouter.sol#L869)

	```solidity
	    function sendRequestToCalculateActivityCredit(
	```

- Found in src/Minter.sol [Line: 267](src/Minter.sol#L267)

	```solidity
	    function getBurnFee(uint256 _amount) public view returns (uint256) {
	```

- Found in src/Minter.sol [Line: 288](src/Minter.sol#L288)

	```solidity
	    function getBurnAndMintFee(
	```

- Found in src/Minter.sol [Line: 317](src/Minter.sol#L317)

	```solidity
	    function getMinted(address _user) public view returns (uint256) {
	```

- Found in src/Minter.sol [Line: 321](src/Minter.sol#L321)

	```solidity
	    function getFeePay(address _user) public view returns (uint256) {
	```

- Found in src/Minter.sol [Line: 325](src/Minter.sol#L325)

	```solidity
	    function getDsc() public view returns (DSC) {
	```

- Found in src/Minter.sol [Line: 329](src/Minter.sol#L329)

	```solidity
	    function getMainRouter() public view returns (address) {
	```

- Found in src/Minter.sol [Line: 333](src/Minter.sol#L333)

	```solidity
	    function getMainRouterChainSelector() public view returns (uint64) {
	```

- Found in src/Namespace.sol [Line: 19](src/Namespace.sol#L19)

	```solidity
	    function registerNamespace(string memory name) public payable {
	```

- Found in src/Namespace.sol [Line: 33](src/Namespace.sol#L33)

	```solidity
	    function transferNamespace(string memory name, address to) public {
	```

- Found in src/Namespace.sol [Line: 44](src/Namespace.sol#L44)

	```solidity
	    function getNamespaceOwner(
	```

- Found in src/Namespace.sol [Line: 50](src/Namespace.sol#L50)

	```solidity
	    function getOwnedNamespaces(
	```

- Found in src/Namespace.sol [Line: 56](src/Namespace.sol#L56)

	```solidity
	    function setRegistrationFee(uint256 _newFee) public onlyOwner {
	```

- Found in src/Namespace.sol [Line: 60](src/Namespace.sol#L60)

	```solidity
	    function withdrawFees() public onlyOwner {
	```

- Found in src/library/OracleLib.sol [Line: 21](src/library/OracleLib.sol#L21)

	```solidity
	    function checkStaleTime(
	```

- Found in src/library/OracleLib.sol [Line: 29](src/library/OracleLib.sol#L29)

	```solidity
	    function checkLatestRoundData(
	```

- Found in src/library/OracleLib.sol [Line: 42](src/library/OracleLib.sol#L42)

	```solidity
	    function staleCheckLatestRoundData(
	```

- Found in src/library/OracleLib.sol [Line: 62](src/library/OracleLib.sol#L62)

	```solidity
	    function getTimeout(
	```

</details>



## L-6: Define and use `constant` variables instead of using literals

If the same constant literal value is used multiple times, create a constant state variable and reference it throughout the contract.

<details><summary>4 Found Instances</summary>


- Found in src/MainRouter.sol [Line: 650](src/MainRouter.sol#L650)

	```solidity
	                10 ** (18 - tokenDecimals[_chainSelector][_token])) / PRECISION;
	```

- Found in src/MainRouter.sol [Line: 709](src/MainRouter.sol#L709)

	```solidity
	            10 ** (18 - tokenDecimals[_destinationChainSelector][_token]);
	```

</details>



## L-7: Event is missing `indexed` fields

Index event fields make the field more quickly accessible to off-chain tools that parse events. However, note that each index field costs extra gas during emission, so it's not necessarily best to index the maximum allowed per event (three fields). Each event should use three indexed fields if there are three or more fields, and gas usage is not particularly of concern for the events in question. If there are fewer than three fields, all of the fields should be indexed.

<details><summary>4 Found Instances</summary>


- Found in src/MainRouter.sol [Line: 44](src/MainRouter.sol#L44)

	```solidity
	    event Mint(
	```

- Found in src/MainRouter.sol [Line: 49](src/MainRouter.sol#L49)

	```solidity
	    event Burn(
	```

- Found in src/Namespace.sol [Line: 12](src/Namespace.sol#L12)

	```solidity
	    event NamespaceRegistered(string name, address owner);
	```

- Found in src/Namespace.sol [Line: 13](src/Namespace.sol#L13)

	```solidity
	    event NamespaceTransferred(string name, address from, address to);
	```

</details>



## L-8: PUSH0 is not supported by all chains

Solc compiler version 0.8.20 switches the default target EVM version to Shanghai, which means that the generated bytecode will include PUSH0 opcodes. Be sure to select the appropriate EVM version in case you intend to deploy on a chain other than mainnet like L2 chains that may not support PUSH0, otherwise deployment of your contracts will fail.

<details><summary>11 Found Instances</summary>


- Found in src/DSC.sol [Line: 2](src/DSC.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/Depositor.sol [Line: 2](src/Depositor.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/MainRouter.sol [Line: 2](src/MainRouter.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/Minter.sol [Line: 2](src/Minter.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/Namespace.sol [Line: 2](src/Namespace.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/interface/IDepositor.sol [Line: 2](src/interface/IDepositor.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/interface/IMainRouter.sol [Line: 2](src/interface/IMainRouter.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/interface/IMinter.sol [Line: 2](src/interface/IMinter.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/library/CCIPBase.sol [Line: 2](src/library/CCIPBase.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/library/FunctionsBase.sol [Line: 3](src/library/FunctionsBase.sol#L3)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/library/OracleLib.sol [Line: 2](src/library/OracleLib.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

</details>



## L-9: Modifiers invoked only once can be shoe-horned into the function



<details><summary>2 Found Instances</summary>


- Found in src/Depositor.sol [Line: 74](src/Depositor.sol#L74)

	```solidity
	    modifier onlyMainRouter(address caller) {
	```

- Found in src/Minter.sol [Line: 61](src/Minter.sol#L61)

	```solidity
	    modifier onlyMainRouter(address caller) {
	```

</details>



## L-10: Large literal values multiples of 10000 can be replaced with scientific notation

Use `e` notation, for example: `1e18`, instead of its full numeric value.

<details><summary>6 Found Instances</summary>


- Found in src/Depositor.sol [Line: 50](src/Depositor.sol#L50)

	```solidity
	    uint256 private ccipDepositGasLimit = 500_000;
	```

- Found in src/Depositor.sol [Line: 51](src/Depositor.sol#L51)

	```solidity
	    uint256 private ccipDepositAndMintGasLimit = 1_000_000;
	```

- Found in src/MainRouter.sol [Line: 93](src/MainRouter.sol#L93)

	```solidity
	    uint256 private ccipGasLimit = 300_000;
	```

- Found in src/Minter.sol [Line: 43](src/Minter.sol#L43)

	```solidity
	    uint256 private ccipBurnGasLimit = 500_000;
	```

- Found in src/Minter.sol [Line: 44](src/Minter.sol#L44)

	```solidity
	    uint256 private ccipBurnAndMintGasLimit = 1_000_000;
	```

- Found in src/library/FunctionsBase.sol [Line: 25](src/library/FunctionsBase.sol#L25)

	```solidity
	    uint32 internal gasLimit = 300_000;
	```

</details>



## L-11: Internal functions called only once can be inlined

Instead of separating the logic into a separate function, consider inlining the logic into the calling function. This can reduce the number of function calls and improve readability.

<details><summary>1 Found Instances</summary>


- Found in src/MainRouter.sol [Line: 317](src/MainRouter.sol#L317)

	```solidity
	    function min(uint256 a, uint256 b) internal pure returns (uint256) {
	```

</details>



## L-12: Inconsistency in declaring uint256/uint (or) int256/int variables within a contract. Use explicit size declarations (uint256 or int256).

Consider keeping the naming convention consistent in a given contract. Explicit size declarations are preferred (uint256, int256) over implicit ones (uint, int) to avoid confusion.

<details><summary>5 Found Instances</summary>


- Found in src/MainRouter.sol [Line: 574](src/MainRouter.sol#L574)

	```solidity
	        for (uint i = 0; i < _chainLength; i++) {
	```

- Found in src/MainRouter.sol [Line: 592](src/MainRouter.sol#L592)

	```solidity
	        for (uint i = 0; i < _chainLength; i++) {
	```

- Found in src/MainRouter.sol [Line: 607](src/MainRouter.sol#L607)

	```solidity
	        for (uint i = 0; i < _tokenLength; i++) {
	```

- Found in src/MainRouter.sol [Line: 738](src/MainRouter.sol#L738)

	```solidity
	        for (uint i = 0; i < allowedTokens[_chainSelector].length(); i++) {
	```

- Found in src/Namespace.sol [Line: 69](src/Namespace.sol#L69)

	```solidity
	        for (uint i = 0; i < namespaces.length; i++) {
	```

</details>



## L-13: Unused Custom Error

it is recommended that the definition be removed when custom error is unused

<details><summary>1 Found Instances</summary>


- Found in src/library/FunctionsBase.sol [Line: 12](src/library/FunctionsBase.sol#L12)

	```solidity
	    error UnexpectedRequestID(address user, bytes32 requestId);
	```

</details>



## L-14: Costly operations inside loops.

Invoking `SSTORE`operations in loops may lead to Out-of-gas errors. Use a local variable to hold the loop computation result.

<details><summary>1 Found Instances</summary>


- Found in src/Namespace.sol [Line: 69](src/Namespace.sol#L69)

	```solidity
	        for (uint i = 0; i < namespaces.length; i++) {
	```

</details>



## L-15: Unused Imports

Redundant import statement. Consider removing it.

<details><summary>8 Found Instances</summary>


- Found in src/Depositor.sol [Line: 5](src/Depositor.sol#L5)

	```solidity
	import {Client} from "@chainlink/contracts-ccip/src/v0.8/ccip/libraries/Client.sol";
	```

- Found in src/Depositor.sol [Line: 8](src/Depositor.sol#L8)

	```solidity
	import {Ownable} from "@openzeppelin/contracts/access/Ownable.sol";
	```

- Found in src/MainRouter.sol [Line: 5](src/MainRouter.sol#L5)

	```solidity
	import {CCIPReceiver} from "@chainlink/contracts-ccip/src/v0.8/ccip/applications/CCIPReceiver.sol";
	```

- Found in src/MainRouter.sol [Line: 6](src/MainRouter.sol#L6)

	```solidity
	import {Client} from "@chainlink/contracts-ccip/src/v0.8/ccip/libraries/Client.sol";
	```

- Found in src/MainRouter.sol [Line: 7](src/MainRouter.sol#L7)

	```solidity
	import {Ownable} from "@openzeppelin/contracts/access/Ownable.sol";
	```

- Found in src/Minter.sol [Line: 5](src/Minter.sol#L5)

	```solidity
	import {CCIPReceiver} from "@chainlink/contracts-ccip/src/v0.8/ccip/applications/CCIPReceiver.sol";
	```

- Found in src/Minter.sol [Line: 6](src/Minter.sol#L6)

	```solidity
	import {Client} from "@chainlink/contracts-ccip/src/v0.8/ccip/libraries/Client.sol";
	```

- Found in src/library/CCIPBase.sol [Line: 4](src/library/CCIPBase.sol#L4)

	```solidity
	import {IRouterClient} from "@chainlink/contracts-ccip/src/v0.8/ccip/interfaces/IRouterClient.sol";
	```

</details>



## L-16: State variable changes but no event is emitted.

State variable changes in this function but no event is emitted.

<details><summary>32 Found Instances</summary>


- Found in src/Depositor.sol [Line: 63](src/Depositor.sol#L63)

	```solidity
	    receive() external payable {
	```

- Found in src/Depositor.sol [Line: 81](src/Depositor.sol#L81)

	```solidity
	    function setMainRouter(address _newMainRouter) external onlyOwner {
	```

- Found in src/Depositor.sol [Line: 85](src/Depositor.sol#L85)

	```solidity
	    function setMainRouterChainSelector(
	```

- Found in src/Depositor.sol [Line: 91](src/Depositor.sol#L91)

	```solidity
	    function setAllowedToken(
	```

- Found in src/Depositor.sol [Line: 98](src/Depositor.sol#L98)

	```solidity
	    function setCCIPDepositGasLimit(uint256 _newGasLimit) external onlyOwner {
	```

- Found in src/Depositor.sol [Line: 102](src/Depositor.sol#L102)

	```solidity
	    function setCCIPDepositAndMintGasLimit(
	```

- Found in src/Depositor.sol [Line: 186](src/Depositor.sol#L186)

	```solidity
	    function redeem(
	```

- Found in src/Depositor.sol [Line: 263](src/Depositor.sol#L263)

	```solidity
	    function withdrawFeePay(uint256 _amount) external {
	```

- Found in src/MainRouter.sol [Line: 118](src/MainRouter.sol#L118)

	```solidity
	    receive() external payable {
	```

- Found in src/MainRouter.sol [Line: 143](src/MainRouter.sol#L143)

	```solidity
	    function setOptimismDepositor(
	```

- Found in src/MainRouter.sol [Line: 149](src/MainRouter.sol#L149)

	```solidity
	    function setOptimismMinter(address _minterContract) external onlyOwner {
	```

- Found in src/MainRouter.sol [Line: 153](src/MainRouter.sol#L153)

	```solidity
	    function addAllowedToken(
	```

- Found in src/MainRouter.sol [Line: 168](src/MainRouter.sol#L168)

	```solidity
	    function removeAllowedToken(
	```

- Found in src/MainRouter.sol [Line: 178](src/MainRouter.sol#L178)

	```solidity
	    function changePriceFeed(
	```

- Found in src/MainRouter.sol [Line: 186](src/MainRouter.sol#L186)

	```solidity
	    function setCCIPGasLimit(uint256 _newGasLimit) external onlyOwner {
	```

- Found in src/MainRouter.sol [Line: 190](src/MainRouter.sol#L190)

	```solidity
	    function withdrawFeePay(uint256 _amount) external {
	```

- Found in src/MainRouter.sol [Line: 869](src/MainRouter.sol#L869)

	```solidity
	    function sendRequestToCalculateActivityCredit(
	```

- Found in src/Minter.sol [Line: 57](src/Minter.sol#L57)

	```solidity
	    receive() external payable {
	```

- Found in src/Minter.sol [Line: 68](src/Minter.sol#L68)

	```solidity
	    function setMainRouter(address _newMainRouter) external onlyOwner {
	```

- Found in src/Minter.sol [Line: 72](src/Minter.sol#L72)

	```solidity
	    function setMainRouterChainSelector(
	```

- Found in src/Minter.sol [Line: 78](src/Minter.sol#L78)

	```solidity
	    function setCCIPBurnGasLimit(uint256 _newGasLimit) external onlyOwner {
	```

- Found in src/Minter.sol [Line: 82](src/Minter.sol#L82)

	```solidity
	    function setCCIPBurnAndMintGasLimit(
	```

- Found in src/Minter.sol [Line: 88](src/Minter.sol#L88)

	```solidity
	    function withdrawFeePay(uint256 _amount) external {
	```

- Found in src/Namespace.sol [Line: 56](src/Namespace.sol#L56)

	```solidity
	    function setRegistrationFee(uint256 _newFee) public onlyOwner {
	```

- Found in src/library/CCIPBase.sol [Line: 53](src/library/CCIPBase.sol#L53)

	```solidity
	    function setAllowedDestinationChain(
	```

- Found in src/library/CCIPBase.sol [Line: 65](src/library/CCIPBase.sol#L65)

	```solidity
	    function setAllowedSourceChain(
	```

- Found in src/library/CCIPBase.sol [Line: 72](src/library/CCIPBase.sol#L72)

	```solidity
	    function setAllowedSender(
	```

- Found in src/library/FunctionsBase.sol [Line: 39](src/library/FunctionsBase.sol#L39)

	```solidity
	    function setFunctionsRouter(address _functionsRouter) external onlyOwner {
	```

- Found in src/library/FunctionsBase.sol [Line: 43](src/library/FunctionsBase.sol#L43)

	```solidity
	    function setDonId(bytes32 _donId) external onlyOwner {
	```

- Found in src/library/FunctionsBase.sol [Line: 47](src/library/FunctionsBase.sol#L47)

	```solidity
	    function setSubscriptionID(uint64 _subscriptionId) external onlyOwner {
	```

- Found in src/library/FunctionsBase.sol [Line: 51](src/library/FunctionsBase.sol#L51)

	```solidity
	    function setGasLimit(uint32 _gasLimit) external onlyOwner {
	```

- Found in src/library/FunctionsBase.sol [Line: 55](src/library/FunctionsBase.sol#L55)

	```solidity
	    function setSource(string memory _source) external onlyOwner {
	```

</details>



